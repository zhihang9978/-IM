# Android 客户端问题报告 ⚠️

## 问题概述
用户安装APK后发现**所有页面都是占位符**，实际功能未实现。

## 具体问题（根据用户截图）

### 1. "蓝信"标签页（ChatListFragment）
**问题**：页面空白，没有聊天列表
- 文件：`apps/android/app/src/main/java/com/lanxin/im/ui/chat/ChatListFragment.kt`
- 代码：只有TODO注释 `// TODO: 设置Adapter和加载数据`
- **缺失功能**：
  - RecyclerView Adapter未实现
  - 未调用API获取会话列表
  - 没有显示任何会话

### 2. "通讯录"标签页
**问题**：显示"通讯录功能开发中..."
- 文件：`apps/android/app/src/main/res/layout/fragment_contacts.xml`
- **缺失功能**：
  - 联系人列表
  - 搜索功能
  - 添加好友

### 3. "发现"标签页
**问题**：显示"发现功能开发中..."
- 文件：`apps/android/app/src/main/res/layout/fragment_discover.xml`
- **缺失功能**：
  - 朋友圈
  - 扫一扫
  - 其他社交功能

### 4. "我"标签页（个人中心）
**问题**：显示"个人中心功能开发中..."
- 文件：`apps/android/app/src/main/res/layout/fragment_profile.xml`
- **缺失功能**：
  - 用户信息显示
  - 设置选项
  - 退出登录

## 需要Cursor实现的功能

### 优先级 P0（核心功能）

#### 1. 聊天列表页面（ChatListFragment）
```kotlin
// 需要实现：
- ConversationAdapter（会话列表适配器）
- 调用 API 获取会话列表
- 显示最后一条消息
- 显示未读消息数量
- 点击进入聊天页面
```

#### 2. 通讯录页面（ContactsFragment）
```kotlin
// 需要实现：
- ContactAdapter（联系人列表适配器）
- 调用 API 获取联系人列表
- 按字母分组显示
- 搜索联系人功能
- 点击查看联系人详情
```

#### 3. 个人中心页面（ProfileFragment）
```kotlin
// 需要实现：
- 显示用户头像、昵称、蓝信号
- 设置菜单（账号设置、隐私设置等）
- 退出登录功能
```

### 优先级 P1（可延后）

#### 4. 发现页面（DiscoverFragment）
```kotlin
// 可以暂时保留"开发中"
// 或者实现简单的功能列表
```

## API接口参考（已有）

根据后端代码，以下API已实现：

1. **获取会话列表**：`GET /api/v1/conversations`
2. **获取联系人**：`GET /api/v1/contacts` 或 `GET /api/v1/users`（需确认）
3. **获取用户信息**：`GET /api/v1/user/profile`

## 建议实现步骤

1. **第一步：实现ChatListFragment**
   - 创建 ConversationAdapter
   - 调用会话列表API
   - 实现基本的列表显示

2. **第二步：实现ContactsFragment**
   - 创建 ContactAdapter
   - 调用联系人列表API
   - 实现搜索功能

3. **第三步：实现ProfileFragment**
   - 显示用户信息
   - 实现设置菜单
   - 添加退出登录

4. **第四步：集成测试**
   - 测试所有页面切换
   - 测试数据加载
   - 测试错误处理

## 代码示例参考

可以参考已实现的代码：
- `ChatActivity.kt` - 聊天页面实现
- `ChatViewModel.kt` - 数据加载逻辑
- API调用方式参考现有代码

## 估计工作量

- ChatListFragment：2-3小时
- ContactsFragment：2-3小时  
- ProfileFragment：1-2小时
- 测试和调试：1-2小时

**总计：6-10小时**

## 临时解决方案

如果无法立即实现，建议：
1. 在占位页面添加"敬请期待"和预计上线时间
2. 至少实现ChatListFragment，让用户能看到基本的聊天功能
3. 提供测试账号和说明，告知用户如何测试已实现的功能
