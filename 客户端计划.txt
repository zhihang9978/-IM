蓝信通讯客户端开发总计划书

────────────────────────────

【一】Android 客户端

需要保证应用兼容多品牌、多系统版本的 Android 设备，并具备出色性能和用户体验。
应在真实设备上充分测试，确保在华为、荣耀、VIVO、OPPO、小米等主流机型（包括平板）上稳定运行。
同时支持有 GMS（Google 服务）和无 GMS 的 ROM。

采用 MVVM 架构（Kotlin + XML 布局），以确保高性能与良好的维护性。
权限申请遵循 Android 官方设计规范，仅在真正需要时请求权限，并给出详细的权限说明弹窗。
如：用户点击录音按钮时才请求麦克风权限，拒绝后提供友好提示或功能降级。

UI 界面参考微信风格，保持简洁、明亮、留白充足的设计风格。
应用图标与品牌标识全部使用项目文件中的 LOGO.png。
所有控件（按钮、消息气泡、输入框、弹窗、设置页面等）应符合 WeChat/WeUI 交互逻辑。

────────────────────────────

【二】Web 客户端

Web 客户端采用 PWA（渐进式 Web 应用）技术。
支持离线缓存、桌面通知、文件拖拽上传与实时消息推送。
核心框架建议使用 React + Vite 构建，配合 IndexedDB 实现离线数据存储。

即使在网络断开时，用户仍可浏览缓存的聊天记录、图片与文件。
消息推送通过 Push API + Notifications API 实现，在网页未打开时仍能推送提醒。
文件上传支持拖拽与点击选择两种模式，拖拽事件自动识别文件并上传。
图片、视频、文档文件均可预览（使用 File API 的对象URL实现即时展示）。

────────────────────────────

【三】主要功能模块

文字消息：即时双向传输，支持 emoji、换行与撤回。

语音消息：Android 使用原生音频录制，Web 使用 MediaRecorder 实现录音。

视频录制与发送：支持拍摄短视频、压缩与上传。

图片发送：支持拍照、选择相册、预览后上传。

文件发送与预览：支持任意常见文件类型（图片、PDF、Office文档）。

屏幕共享：Android 与 Web 均需支持基于腾讯云 TRTC 的屏幕共享（自定义 UI）。

消息系统：

撤回功能（默认2分钟内可撤回）

@提醒功能

消息搜索

阅后即焚（查看后立即删除）

多端登录：支持同一账号同时在线。

────────────────────────────

【四】安全与隐私

所有通信采用 TLS 加密，保证数据传输安全。
不做端到端加密。
用户鉴权方式采用 JWT Token。
敏感操作（如登录、撤回、删除）均需进行服务器端二次校验。

────────────────────────────

【五】运营与后台分析

应用内需集成“举报/投诉”入口。
交互逻辑参考微信标准：
用户可举报消息、用户或文件内容，并提交文本说明。
后台管理系统应能查看所有举报数据并人工审核。

客户端需埋点统计用户行为（如活跃时段、功能使用频率等），
分析数据仅显示在后台，不上传至任何第三方平台。

────────────────────────────

【六】部署方式

Android 客户端：

输出 APK 安装包

内部分发或通过二维码下载

不上架第三方商店

Web 客户端：

部署至已绑定的域名 lanxin168.com

静态资源通过 CDN 分发与缓存

支持 HTTPS，采用 WebSocket 长连接与后端通信

────────────────────────────

【七】UI 设计标准

整体界面参考微信官方风格（WeUI 规范）。
要求简洁、直观、统一，视觉层次清晰。
颜色以白色与浅灰为主，消息气泡区分自发与接收消息颜色。
各页面需完整设计并实现交互逻辑，不得使用占位页面。
Android 端布局使用 dp/sp 单位，Web 端使用 rem/百分比布局。
所有界面需为“精装修”版本，可直接上线使用。

────────────────────────────

【八】Cursor 开发规范

所有模块均需一次性完整实现，不得生成未完成或伪逻辑代码。

各阶段任务需独立可运行并通过 UI 测试。

不得出现“未来开发”或“占位组件”等描述。

所有交互、动画、按钮均应具备真实响应事件。

每个阶段执行一个独立模块（UI层、逻辑层、网络层），执行完成后再进入下一个阶段。

────────────────────────────

【九】总结

蓝信通讯客户端（Android + Web）项目将实现与微信相当的即时通信体验，
涵盖语音、视频、图片、文件、屏幕共享等核心功能。
UI精致、操作流畅、安全可靠，
可直接投入运营环境使用。

────────────────────────────

完